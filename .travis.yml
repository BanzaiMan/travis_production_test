language: ruby

matrix:
  include:
    - sudo: required
      dist: precise
      rvm: '2.1.8'
    - sudo: required
      dist: trusty
      rvm: '2.1.8'
    - sudo: false
      rvm: '2.1.8'

notifications:
  email: false

before_install:
  - echo -e "gem-wrappers\nrubygems-bundler\nbundler\nrake\nrvm\n" >> ~/.rvm/gemsets/global.gems
script:
  - cat /home/travis/.rvm/gemsets/*.gems
  - git --version
  - ldd `which ruby`
  - gem install rdiscount

after_failure:
  - cat /home/travis/.rvm/gems/ruby-2.1.8/extensions/x86_64-linux/2.1.0/rdiscount-2.1.8/gem_make.out
